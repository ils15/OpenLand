% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/contingencyTable.R
\name{contingencyTable}
\alias{contingencyTable}
\title{Contingency table with enhanced performance optimizations}
\usage{
contingencyTable(
  input_raster,
  pixelresolution = 30,
  name_separator = "_",
  year_position = "last",
  name_pattern = NULL,
  exclude_classes = NULL,
  parallel = TRUE,
  n_cores = NULL,
  chunk_size = NULL
)
}
\arguments{
\item{input_raster}{path (character), Raster* object or list of Raster*
objects. See \cr \code{\link[raster]{raster}} for more information about
supported file types. Supports both raster and terra formats for optimal performance.}

\item{pixelresolution}{numeric. The pixel spatial resolution in meter.}

\item{name_separator}{character. The separator used to split the raster names. 
Default is "_" (underscore).}

\item{year_position}{character. Position of the year in the split name. 
Options: "last" (default), "first", or a numeric position.}

\item{name_pattern}{character. Regular expression pattern to extract year from names.
If provided, overrides name_separator and year_position. Default is NULL.}

\item{exclude_classes}{numeric vector. Class values to exclude from the analysis.
Default is NULL (no exclusions). Common usage: exclude_classes = 0 to remove 
background/no-data pixels, or exclude_classes = c(0, 255) for multiple exclusions.
**Important:** When exclude_classes is specified, the function creates a filtered
raster stack where excluded class values are replaced with NA, ensuring consistency
between the contingency tables and the raster data for subsequent analyses.}

\item{parallel}{logical. Enable parallel processing for multi-step analysis. 
Default is TRUE. Provides 2-4x speedup on multi-core systems while maintaining 
reproducible results.}

\item{n_cores}{integer. Number of cores to use for parallel processing. 
Default is NULL (auto-detect, uses detectCores() - 1).}

\item{chunk_size}{integer. Number of cells to process per chunk for large rasters.
Default is NULL (auto-optimized based on available memory). Useful for memory 
management when processing very large rasters that exceed available RAM.}
}
\value{
A list containing 5 objects: lulc_Multistep (multi-period contingency table),
  lulc_Onestep (full period contingency table), tb_legend (category legend),
  totalArea (landscape area), and totalInterval (time interval in years).
}
\description{
Extracts Land Use and Cover (LUC) transitions for all input grids of the time series 
with advanced performance optimizations including parallel processing and terra 
package acceleration.
}
\details{
This function performs cross-tabulation analysis between all time pairs 
in the input raster series. For raster series with n layers, it generates n-1 
pairwise comparisons (2002-2008, 2008-2010, etc.) plus one full period comparison 
(2002-2014).

**Flexible Naming Support:**

The function automatically handles R's naming modifications:
\itemize{
  \item Hyphens → dots: "landscape-2020" becomes "landscape.2020"  
  \item Numeric prefixes → "X" prefix: "2020_data" becomes "X2020_data"
}
The function detects and handles these modifications automatically with informative warnings.
\itemize{
  \item Default: "text_YEAR" format (e.g., "landscape_2020")
  \item Custom separator: Use \code{name_separator} for different separators
  \item Year position: Use \code{year_position} to specify where the year appears
  \item Pattern matching: Use \code{name_pattern} for complex naming schemes
}
}
\examples{
\donttest{
# Basic usage with default naming
data(SL_2002_2014)
print(SL_2002_2014$lulc_Multistep)
}
}
